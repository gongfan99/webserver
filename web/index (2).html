<!DOCTYPE html> 
	<head> 
		<title>My first Three.js app</title> 
		<style>
		  canvas { 
			width: 100%; 
			height: 100% 
		  }
		</style> 
	</head> 
	<body>
<!-- 		<canvas id="LeftCanvas" width="200" height="200">
		Your browser does not support the HTML5 canvas tag.
		</canvas>
		<canvas id="RightCanvas" width="200" height="200"> 
		Your browser does not support the HTML5 canvas tag.
		</canvas> -->
	</body>
	<!-- Shaders -->
	<script type="x-shader/x-vertex" id="vertexshader">
		
		// switch on high precision floats
		#ifdef GL_ES
		precision highp float;
		#endif
		
		varying vec2 vUv;
		void main()
		{
			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.0);
			//newPos1.xy = newPos1.xy * (1.0 - 0.000014 * (newPos1.x * newPos1.x + newPos1.y * newPos1.y));
			//if ((newPos1.x * newPos1.x + newPos1.y * newPos1.y) < 2500.0) newPos1.xy = newPos1.xy * 2.0;
			//gl_Position = newPos1;
		}
		
	</script>
	
	<script type="x-shader/x-fragment" id="fragmentshader">
	
		#ifdef GL_ES
		precision highp float;
		#endif

		varying vec2 vUv;
		uniform sampler2D tDiffuse;
		uniform vec2 LensCenter;
		uniform vec2 ScreenCenter;
		uniform vec2 Scale;
		uniform vec2 ScaleIn;
		uniform vec4 HmdWarpParam;
		vec2 HmdWarp(vec2 in01)
		{
			vec2 theta = (in01 - LensCenter) * ScaleIn;
			float rSq = theta.x * theta.x + theta.y * theta.y;
			vec2 rvector = theta * (HmdWarpParam.x + HmdWarpParam.y * rSq + HmdWarpParam.z * rSq * rSq + HmdWarpParam.w * rSq * rSq * rSq);
			return LensCenter + Scale * rvector;
		}
		void main()
		{
			vec2 tc = HmdWarp(vUv);
			if (distance(clamp(tc, ScreenCenter-vec2(0.5,0.5), ScreenCenter+vec2(0.5, 0.5)) , tc) > 0.0001) {
				discard;
			}
			vec4 color = texture2D( tDiffuse, tc );
			gl_FragColor = color;
		}
	
	</script>
	
	<!-- End Shaders -->
	<script type="text/javascript" src="js/async.js"></script>
	<script data-main="js/bigSphere_6.js" src="js/require.js"></script>
</html>